import{bg as Ne,r as M,k as we,bu as De,aq as Be,d as ke,bv as Ie,U as j,w as E,X as Y,f as L,Y as J,T as Ae,H as x,aZ as Me,a8 as S,V as K,bw as z,G as ce,a4 as _,ap as Fe,bx as He,D as Ke,_ as Ue,W as qe,by as Ge,c as $,bz as te,bq as de,bA as fe,P as ve,R as Xe,S as Ze,b7 as oe,ab as N,o as b,q as w,g as B,A as p,B as pe,l as X,e as ee,ak as D,j as V,t as F,m as Z,s as We,h as ne,bf as $e,bk as Le,b1 as me,O as Ye,bp as ge,bB as c}from"./index-7a753478.js";import{E as Je,e as be}from"./_plugin-vue_export-helper-4445a987.js";import{b as Qe,r as xe,t as _e,v as en,w as nn}from"./index-a6bfc29c.js";import{o as ye,E as tn}from"./refs-08e124bd.js";const on=e=>["",...Ne].includes(e);function sn(e,n){let t;const l=M(!1),o=we({...e,originalPosition:"",originalOverflow:"",visible:!1});function a(r){o.text=r}function u(){const r=o.parent,m=h.ns;if(!r.vLoadingAddClassList){let v=r.getAttribute("loading-number");v=Number.parseInt(v)-1,v?r.setAttribute("loading-number",v.toString()):(x(r,m.bm("parent","relative")),r.removeAttribute("loading-number")),x(r,m.bm("parent","hidden"))}d(),f.unmount()}function d(){var r,m;(m=(r=h.$el)==null?void 0:r.parentNode)==null||m.removeChild(h.$el)}function g(){var r;e.beforeClose&&!e.beforeClose()||(l.value=!0,clearTimeout(t),t=setTimeout(s,400),o.visible=!1,(r=e.closed)==null||r.call(e))}function s(){if(!l.value)return;const r=o.parent;l.value=!1,r.vLoadingAddClassList=void 0,u()}const k=ke({name:"ElLoading",setup(r,{expose:m}){const{ns:v,zIndex:U}=Ie("loading");return m({ns:v,zIndex:U}),()=>{const I=o.spinner||o.svg,P=j("svg",{class:"circular",viewBox:o.svgViewBox?o.svgViewBox:"0 0 50 50",...I?{innerHTML:I}:{}},[j("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),q=o.text?j("p",{class:v.b("text")},[o.text]):void 0;return j(Ae,{name:v.b("fade"),onAfterLeave:s},{default:E(()=>[Y(L("div",{style:{backgroundColor:o.background||""},class:[v.b("mask"),o.customClass,o.fullscreen?"is-fullscreen":""]},[j("div",{class:v.b("spinner")},[P,q])]),[[J,o.visible]])])})}}}),f=De(k);Object.assign(f._context,n??{});const h=f.mount(document.createElement("div"));return{...Be(o),setText:a,removeElLoadingChild:d,close:g,handleAfterLeave:s,vm:h,get $el(){return h.$el}}}let W;const ae=function(e={}){if(!Me)return;const n=an(e);if(n.fullscreen&&W)return W;const t=sn({...n,closed:()=>{var o;(o=n.closed)==null||o.call(n),n.fullscreen&&(W=void 0)}},ae._context);ln(n,n.parent,t),Ce(n,n.parent,t),n.parent.vLoadingAddClassList=()=>Ce(n,n.parent,t);let l=n.parent.getAttribute("loading-number");return l?l=`${Number.parseInt(l)+1}`:l="1",n.parent.setAttribute("loading-number",l),n.parent.appendChild(t.$el),S(()=>t.visible.value=n.visible),n.fullscreen&&(W=t),t},an=e=>{var n,t,l,o;let a;return K(e.target)?a=(n=document.querySelector(e.target))!=null?n:document.body:a=e.target||document.body,{parent:a===document.body||e.body?document.body:a,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:a===document.body&&((t=e.fullscreen)!=null?t:!0),lock:(l=e.lock)!=null?l:!1,customClass:e.customClass||"",visible:(o=e.visible)!=null?o:!0,beforeClose:e.beforeClose,closed:e.closed,target:a}},ln=async(e,n,t)=>{const{nextZIndex:l}=t.vm.zIndex||t.vm._.exposed.zIndex,o={};if(e.fullscreen)t.originalPosition.value=z(document.body,"position"),t.originalOverflow.value=z(document.body,"overflow"),o.zIndex=l();else if(e.parent===document.body){t.originalPosition.value=z(document.body,"position"),await S();for(const a of["top","left"]){const u=a==="top"?"scrollTop":"scrollLeft";o[a]=`${e.target.getBoundingClientRect()[a]+document.body[u]+document.documentElement[u]-Number.parseInt(z(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])o[a]=`${e.target.getBoundingClientRect()[a]}px`}else t.originalPosition.value=z(n,"position");for(const[a,u]of Object.entries(o))t.$el.style[a]=u},Ce=(e,n,t)=>{const l=t.vm.ns||t.vm._.exposed.ns;["absolute","fixed","sticky"].includes(t.originalPosition.value)?x(n,l.bm("parent","relative")):ce(n,l.bm("parent","relative")),e.fullscreen&&e.lock?ce(n,l.bm("parent","hidden")):x(n,l.bm("parent","hidden"))};ae._context=null;const Q=Symbol("ElLoading"),he=(e,n)=>{var t,l,o,a;const u=n.instance,d=r=>_(n.value)?n.value[r]:void 0,g=r=>{const m=K(r)&&(u==null?void 0:u[r])||r;return m&&M(m)},s=r=>g(d(r)||e.getAttribute(`element-loading-${He(r)}`)),k=(t=d("fullscreen"))!=null?t:n.modifiers.fullscreen,f={text:s("text"),svg:s("svg"),svgViewBox:s("svgViewBox"),spinner:s("spinner"),background:s("background"),customClass:s("customClass"),fullscreen:k,target:(l=d("target"))!=null?l:k?void 0:e,body:(o=d("body"))!=null?o:n.modifiers.body,lock:(a=d("lock"))!=null?a:n.modifiers.lock},h=ae(f);h._context=Se._context,e[Q]={options:f,instance:h}},rn=(e,n)=>{for(const t of Object.keys(n))Fe(n[t])&&(n[t].value=e[t])},Se={mounted(e,n){n.value&&he(e,n)},updated(e,n){const t=e[Q];n.oldValue!==n.value&&(n.value&&!n.oldValue?he(e,n):n.value&&n.oldValue?_(n.value)&&rn(n.value,t.options):t==null||t.instance.close())},unmounted(e){var n;(n=e[Q])==null||n.instance.close(),e[Q]=null}};Se._context=null;const se="_trap-focus-children",T=[],Ee=e=>{if(T.length===0)return;const n=T[T.length-1][se];if(n.length>0&&e.code===Ke.tab){if(n.length===1){e.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const t=e.shiftKey,l=e.target===n[0],o=e.target===n[n.length-1];l&&t&&(e.preventDefault(),n[n.length-1].focus()),o&&!t&&(e.preventDefault(),n[0].focus())}},un={beforeMount(e){e[se]=ye(e),T.push(e),T.length<=1&&document.addEventListener("keydown",Ee)},updated(e){S(()=>{e[se]=ye(e)})},unmounted(){T.shift(),T.length===0&&document.removeEventListener("keydown",Ee)}},cn=ke({name:"ElMessageBox",directives:{TrapFocus:un},components:{ElButton:Je,ElFocusTrap:tn,ElInput:Qe,ElOverlay:xe,ElIcon:qe,...Ge},inheritAttrs:!1,props:{buttonSize:{type:String,validator:on},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:n}){const{locale:t,zIndex:l,ns:o,size:a}=Ie("message-box",$(()=>e.buttonSize)),{t:u}=t,{nextZIndex:d}=l,g=M(!1),s=we({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",closeIcon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:"",inputValidator:void 0,inputErrorMessage:"",message:"",modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:te(de),cancelButtonLoadingIcon:te(de),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:d()}),k=$(()=>{const i=s.type;return{[o.bm("icon",i)]:i&&fe[i]}}),f=be(),h=be(),r=$(()=>{const i=s.type;return s.icon||i&&fe[i]||""}),m=$(()=>!!s.message),v=M(),U=M(),I=M(),P=M(),q=M(),Te=$(()=>s.confirmButtonClass);ve(()=>s.inputValue,async i=>{await S(),e.boxType==="prompt"&&i&&re()},{immediate:!0}),ve(()=>g.value,i=>{var y,C;i&&(e.boxType!=="prompt"&&(s.autofocus?I.value=(C=(y=q.value)==null?void 0:y.$el)!=null?C:v.value:I.value=v.value),s.zIndex=d()),e.boxType==="prompt"&&(i?S().then(()=>{var ue;P.value&&P.value.$el&&(s.autofocus?I.value=(ue=je())!=null?ue:v.value:I.value=v.value)}):(s.editorErrorMessage="",s.validateError=!1))});const Pe=$(()=>e.draggable),Ve=$(()=>e.overflow);_e(v,U,Pe,Ve),Xe(async()=>{await S(),e.closeOnHashChange&&window.addEventListener("hashchange",R)}),Ze(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",R)});function R(){g.value&&(g.value=!1,S(()=>{s.action&&n("action",s.action)}))}const le=()=>{e.closeOnClickModal&&G(s.distinguishCancelAndClose?"close":"cancel")},Oe=nn(le),Re=i=>{if(s.inputType!=="textarea")return i.preventDefault(),G("confirm")},G=i=>{var y;e.boxType==="prompt"&&i==="confirm"&&!re()||(s.action=i,s.beforeClose?(y=s.beforeClose)==null||y.call(s,i,s,R):R())},re=()=>{if(e.boxType==="prompt"){const i=s.inputPattern;if(i&&!i.test(s.inputValue||""))return s.editorErrorMessage=s.inputErrorMessage||u("el.messagebox.error"),s.validateError=!0,!1;const y=s.inputValidator;if(oe(y)){const C=y(s.inputValue);if(C===!1)return s.editorErrorMessage=s.inputErrorMessage||u("el.messagebox.error"),s.validateError=!0,!1;if(K(C))return s.editorErrorMessage=C,s.validateError=!0,!1}}return s.editorErrorMessage="",s.validateError=!1,!0},je=()=>{var i,y;const C=(i=P.value)==null?void 0:i.$refs;return(y=C==null?void 0:C.input)!=null?y:C==null?void 0:C.textarea},ie=()=>{G("close")},ze=()=>{e.closeOnPressEscape&&ie()};return e.lockScroll&&en(g),{...Be(s),ns:o,overlayEvent:Oe,visible:g,hasMessage:m,typeClass:k,contentId:f,inputId:h,btnSize:a,iconComponent:r,confirmButtonClasses:Te,rootRef:v,focusStartRef:I,headerRef:U,inputRef:P,confirmRef:q,doClose:R,handleClose:ie,onCloseRequested:ze,handleWrapperClick:le,handleInputEnter:Re,handleAction:G,t:u}}});function dn(e,n,t,l,o,a){const u=N("el-icon"),d=N("el-input"),g=N("el-button"),s=N("el-focus-trap"),k=N("el-overlay");return b(),w(Ae,{name:"fade-in-linear",onAfterLeave:f=>e.$emit("vanish"),persisted:""},{default:E(()=>[Y(L(k,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:E(()=>[B("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:p(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[L(s,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:E(()=>[B("div",{ref:"rootRef",class:p([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:pe(e.customStyle),tabindex:"-1",onClick:X(()=>{},["stop"])},[e.title!==null&&e.title!==void 0?(b(),ee("div",{key:0,ref:"headerRef",class:p([e.ns.e("header"),{"show-close":e.showClose}])},[B("div",{class:p(e.ns.e("title"))},[e.iconComponent&&e.center?(b(),w(u,{key:0,class:p([e.ns.e("status"),e.typeClass])},{default:E(()=>[(b(),w(D(e.iconComponent)))]),_:1},8,["class"])):V("v-if",!0),B("span",null,F(e.title),1)],2),e.showClose?(b(),ee("button",{key:0,type:"button",class:p(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:f=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:Z(X(f=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[L(u,{class:p(e.ns.e("close"))},{default:E(()=>[(b(),w(D(e.closeIcon||"close")))]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):V("v-if",!0)],2)):V("v-if",!0),B("div",{id:e.contentId,class:p(e.ns.e("content"))},[B("div",{class:p(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(b(),w(u,{key:0,class:p([e.ns.e("status"),e.typeClass])},{default:E(()=>[(b(),w(D(e.iconComponent)))]),_:1},8,["class"])):V("v-if",!0),e.hasMessage?(b(),ee("div",{key:1,class:p(e.ns.e("message"))},[We(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(b(),w(D(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(b(),w(D(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:E(()=>[ne(F(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):V("v-if",!0)],2),Y(B("div",{class:p(e.ns.e("input"))},[L(d,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":f=>e.inputValue=f,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:p({invalid:e.validateError}),onKeydown:Z(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),B("div",{class:p(e.ns.e("errormsg")),style:pe({visibility:e.editorErrorMessage?"visible":"hidden"})},F(e.editorErrorMessage),7)],2),[[J,e.showInput]])],10,["id"]),B("div",{class:p(e.ns.e("btns"))},[e.showCancelButton?(b(),w(g,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:p([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:f=>e.handleAction("cancel"),onKeydown:Z(X(f=>e.handleAction("cancel"),["prevent"]),["enter"])},{default:E(()=>[ne(F(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):V("v-if",!0),Y(L(g,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:p([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:f=>e.handleAction("confirm"),onKeydown:Z(X(f=>e.handleAction("confirm"),["prevent"]),["enter"])},{default:E(()=>[ne(F(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[J,e.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[J,e.visible]])]),_:3},8,["onAfterLeave"])}var fn=Ue(cn,[["render",dn],["__file","index.vue"]]);const H=new Map,vn=e=>{let n=document.body;return e.appendTo&&(K(e.appendTo)&&(n=document.querySelector(e.appendTo)),ge(e.appendTo)&&(n=e.appendTo),ge(n)||(n=document.body)),n},pn=(e,n,t=null)=>{const l=L(fn,e,oe(e.message)||$e(e.message)?{default:oe(e.message)?e.message:()=>e.message}:null);return l.appContext=t,Le(l,n),vn(e).appendChild(n.firstElementChild),l.component},mn=()=>document.createElement("div"),gn=(e,n)=>{const t=mn();e.onVanish=()=>{Le(null,t),H.delete(o)},e.onAction=a=>{const u=H.get(o);let d;e.showInput?d={value:o.inputValue,action:a}:d=a,e.callback?e.callback(d,l.proxy):a==="cancel"||a==="close"?e.distinguishCancelAndClose&&a!=="cancel"?u.reject("close"):u.reject("cancel"):u.resolve(d)};const l=pn(e,t,n),o=l.proxy;for(const a in e)me(e,a)&&!me(o.$props,a)&&(a==="closeIcon"&&_(e[a])?o[a]=te(e[a]):o[a]=e[a]);return o.visible=!0,o};function O(e,n=null){if(!Me)return Promise.reject();let t;return K(e)||$e(e)?e={message:e}:t=e.callback,new Promise((l,o)=>{const a=gn(e,n??O._context);H.set(a,{options:e,callback:t,resolve:l,reject:o})})}const bn=["alert","confirm","prompt"],yn={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};bn.forEach(e=>{O[e]=Cn(e)});function Cn(e){return(n,t,l,o)=>{let a="";return _(t)?(l=t,a=""):Ye(t)?a="":a=t,O(Object.assign({title:a,message:n,type:"",...yn[e]},l,{boxType:e}),o)}}O.close=()=>{H.forEach((e,n)=>{n.doClose()}),H.clear()};O._context=null;const A=O;A.install=e=>{A._context=e._context,e.config.globalProperties.$msgbox=A,e.config.globalProperties.$messageBox=A,e.config.globalProperties.$alert=A.alert,e.config.globalProperties.$confirm=A.confirm,e.config.globalProperties.$prompt=A.prompt};const kn=A;const In={getCategories:e=>c.get("/api/v1/apis/categories/",{params:e}),createCategory:e=>c.post("/api/v1/apis/categories/",e),getCategory:e=>c.get(`/api/v1/apis/categories/${e}`),updateCategory:(e,n)=>c.put(`/api/v1/apis/categories/${e}`,n),deleteCategory:e=>c.delete(`/api/v1/apis/categories/${e}`)},An={getAPIs:e=>c.get("/api/v1/apis/",{params:e}),createAPI:e=>c.post("/api/v1/apis/",e),getAPI:e=>c.get(`/api/v1/apis/${e}`),updateAPI:(e,n)=>c.put(`/api/v1/apis/${e}`,n),deleteAPI:e=>c.delete(`/api/v1/apis/${e}`)},Mn={getProjects:e=>c.get("/api/v1/projects/",{params:e}),createProject:e=>c.post("/api/v1/projects/",e),getProject:e=>c.get(`/api/v1/projects/${e}`),updateProject:(e,n)=>c.put(`/api/v1/projects/${e}`,n),deleteProject:e=>c.delete(`/api/v1/projects/${e}`),getModules:(e,n)=>c.get(`/api/v1/projects/${e}/modules/`,{params:n}),createModule:(e,n)=>c.post(`/api/v1/projects/${e}/modules/`,n)},$n={getModule:e=>c.get(`/api/v1/projects/modules/${e}`),updateModule:(e,n)=>c.put(`/api/v1/projects/modules/${e}`,n),deleteModule:e=>c.delete(`/api/v1/projects/modules/${e}`)};export{kn as E,An as a,In as c,$n as m,Mn as p,Se as v};
