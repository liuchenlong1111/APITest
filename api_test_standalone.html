<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APIÁÆ°ÁêÜÊµãËØïÈ°µÈù¢</title>
    
    <!-- Element Plus CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css">
    
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'ÂæÆËΩØÈõÖÈªë', Arial, sans-serif;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .search-area {
            margin-bottom: 24px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        
        .category-section {
            margin-bottom: 24px;
        }
        
        .category-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .category-tag {
            cursor: pointer;
            margin: 4px;
            transition: all 0.3s;
        }
        
        .category-tag:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .text-gray {
            color: #999;
        }
        
        #app {
            min-height: 100vh;
        }
        
        .status-message {
            text-align: center;
            padding: 40px;
            color: #666;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="container">
            <el-card>
                <template #header>
                    <div class="card-header">
                        <h2>üöÄ APIÊµãËØïÂπ≥Âè∞ - Êé•Âè£ÁÆ°ÁêÜ</h2>
                        <div>
                            <el-button type="primary" @click="showCreateCategoryDialog">
                                Êñ∞Â¢ûÂàÜÁ±ª
                            </el-button>
                            <el-button type="primary" @click="showCreateAPIDialog">
                                Êñ∞Â¢ûÊé•Âè£
                            </el-button>
                        </div>
                    </div>
                </template>

                <!-- ËøûÊé•Áä∂ÊÄÅ -->
                <el-alert
                    v-if="!isConnected"
                    title="ÂêéÁ´ØÊúçÂä°Êú™ËøûÊé•"
                    description="ËØ∑Á°Æ‰øùÂêéÁ´ØÊúçÂä°Â∑≤ÂêØÂä® (python -m app.main)"
                    type="warning"
                    show-icon
                    style="margin-bottom: 20px;"
                />

                <!-- ÊêúÁ¥¢Âå∫Âüü -->
                <div class="search-area">
                    <el-row :gutter="20">
                        <el-col :span="8">
                            <el-input
                                v-model="searchKeyword"
                                placeholder="ÊêúÁ¥¢Êé•Âè£ÂêçÁß∞"
                                clearable
                                @keyup.enter="handleSearch"
                            >
                                <template #prefix>
                                    <el-icon><search /></el-icon>
                                </template>
                            </el-input>
                        </el-col>
                        <el-col :span="6">
                            <el-select
                                v-model="selectedCategoryId"
                                placeholder="ÈÄâÊã©ÂàÜÁ±ª"
                                clearable
                                @change="handleSearch"
                            >
                                <el-option
                                    v-for="category in categories"
                                    :key="category.id"
                                    :label="category.name"
                                    :value="category.id"
                                >
                                    <span :style="{ color: category.color }">‚óè </span>
                                    {{ category.name }}
                                </el-option>
                            </el-select>
                        </el-col>
                        <el-col :span="4">
                            <el-button type="primary" @click="handleSearch">ÊêúÁ¥¢</el-button>
                            <el-button @click="handleReset">ÈáçÁΩÆ</el-button>
                        </el-col>
                    </el-row>
                </div>

                <!-- ÂàÜÁ±ªÁÆ°ÁêÜÂå∫Âüü -->
                <div class="category-section">
                    <h3>ÂàÜÁ±ªÁÆ°ÁêÜ ({{ categories.length }})</h3>
                    <div class="category-list" v-if="categories.length > 0">
                        <el-tag
                            v-for="category in categories"
                            :key="category.id"
                            :color="category.color"
                            class="category-tag"
                            closable
                            @close="handleDeleteCategory(category.id)"
                            @click="handleCategoryClick(category)"
                        >
                            {{ category.name }} ({{ getAPICountByCategory(category.id) }})
                        </el-tag>
                    </div>
                    <div v-else class="status-message">
                        ÊöÇÊó†ÂàÜÁ±ªÔºåÁÇπÂáª"Êñ∞Â¢ûÂàÜÁ±ª"ÂàõÂª∫Á¨¨‰∏Ä‰∏™ÂàÜÁ±ª
                    </div>
                </div>

                <!-- Êé•Âè£ÂàóË°®Âå∫Âüü -->
                <div class="api-section">
                    <h3>Êé•Âè£ÂàóË°® ({{ apis.length }})</h3>
                    <el-table 
                        :data="apis" 
                        v-loading="loading"
                        row-key="id"
                        v-if="apis.length > 0"
                    >
                        <el-table-column prop="name" label="Êé•Âè£ÂêçÁß∞" min-width="150">
                            <template #default="{ row }">
                                <el-link type="primary" @click="handleViewAPI(row)">
                                    {{ row.name }}
                                </el-link>
                            </template>
                        </el-table-column>
                        
                        <el-table-column prop="method" label="ËØ∑Ê±ÇÊñπÊ≥ï" width="100">
                            <template #default="{ row }">
                                <el-tag :type="getMethodType(row.method)" size="small">
                                    {{ row.method.toUpperCase() }}
                                </el-tag>
                            </template>
                        </el-table-column>
                        
                        <el-table-column prop="url" label="Êé•Âè£Âú∞ÂùÄ" min-width="200" show-overflow-tooltip />
                        
                        <el-table-column prop="category" label="ÂàÜÁ±ª" width="120">
                            <template #default="{ row }">
                                <el-tag v-if="row.category" :color="row.category.color" size="small">
                                    {{ row.category.name }}
                                </el-tag>
                                <span v-else class="text-gray">Êú™ÂàÜÁ±ª</span>
                            </template>
                        </el-table-column>
                        
                        <el-table-column prop="description" label="ÊèèËø∞" min-width="150" show-overflow-tooltip />
                        
                        <el-table-column prop="updated_at" label="Êõ¥Êñ∞Êó∂Èó¥" width="180">
                            <template #default="{ row }">
                                {{ formatDateTime(row.updated_at) }}
                            </template>
                        </el-table-column>
                        
                        <el-table-column label="Êìç‰Ωú" width="200" fixed="right">
                            <template #default="{ row }">
                                <el-button type="primary" link size="small" @click="handleEditAPI(row)">
                                    ÁºñËæë
                                </el-button>
                                <el-button type="success" link size="small" @click="handleTestAPI(row)">
                                    ÊµãËØï
                                </el-button>
                                <el-button type="danger" link size="small" @click="handleDeleteAPI(row.id)">
                                    Âà†Èô§
                                </el-button>
                            </template>
                        </el-table-column>
                    </el-table>
                    
                    <div v-else-if="!loading" class="status-message">
                        ÊöÇÊó†Êé•Âè£ÔºåÁÇπÂáª"Êñ∞Â¢ûÊé•Âè£"ÂàõÂª∫Á¨¨‰∏Ä‰∏™Êé•Âè£
                    </div>
                </div>
            </el-card>

            <!-- ÂàõÂª∫ÂàÜÁ±ªÂØπËØùÊ°Ü -->
            <el-dialog
                v-model="categoryDialogVisible"
                :title="categoryForm.id ? 'ÁºñËæëÂàÜÁ±ª' : 'Êñ∞Â¢ûÂàÜÁ±ª'"
                width="500px"
            >
                <el-form
                    ref="categoryFormRef"
                    :model="categoryForm"
                    :rules="categoryRules"
                    label-width="80px"
                >
                    <el-form-item label="ÂàÜÁ±ªÂêçÁß∞" prop="name">
                        <el-input v-model="categoryForm.name" placeholder="ËØ∑ËæìÂÖ•ÂàÜÁ±ªÂêçÁß∞" />
                    </el-form-item>
                    
                    <el-form-item label="ÂàÜÁ±ªÊèèËø∞" prop="description">
                        <el-input
                            v-model="categoryForm.description"
                            type="textarea"
                            placeholder="ËØ∑ËæìÂÖ•ÂàÜÁ±ªÊèèËø∞"
                            :rows="3"
                        />
                    </el-form-item>
                    
                    <el-form-item label="ÂàÜÁ±ªÈ¢úËâ≤" prop="color">
                        <el-color-picker v-model="categoryForm.color" />
                    </el-form-item>
                </el-form>
                
                <template #footer>
                    <el-button @click="categoryDialogVisible = false">ÂèñÊ∂à</el-button>
                    <el-button type="primary" @click="handleSaveCategory" :loading="categoryLoading">
                        Á°ÆÂÆö
                    </el-button>
                </template>
            </el-dialog>

            <!-- ÂàõÂª∫/ÁºñËæëÊé•Âè£ÂØπËØùÊ°Ü -->
            <el-dialog
                v-model="apiDialogVisible"
                :title="apiForm.id ? 'ÁºñËæëÊé•Âè£' : 'Êñ∞Â¢ûÊé•Âè£'"
                width="800px"
            >
                <el-form
                    ref="apiFormRef"
                    :model="apiForm"
                    :rules="apiRules"
                    label-width="100px"
                >
                    <el-row :gutter="20">
                        <el-col :span="12">
                            <el-form-item label="Êé•Âè£ÂêçÁß∞" prop="name">
                                <el-input v-model="apiForm.name" placeholder="ËØ∑ËæìÂÖ•Êé•Âè£ÂêçÁß∞" />
                            </el-form-item>
                        </el-col>
                        
                        <el-col :span="12">
                            <el-form-item label="ËØ∑Ê±ÇÊñπÊ≥ï" prop="method">
                                <el-select v-model="apiForm.method" placeholder="ÈÄâÊã©ËØ∑Ê±ÇÊñπÊ≥ï">
                                    <el-option label="GET" value="GET" />
                                    <el-option label="POST" value="POST" />
                                    <el-option label="PUT" value="PUT" />
                                    <el-option label="DELETE" value="DELETE" />
                                    <el-option label="PATCH" value="PATCH" />
                                </el-select>
                            </el-form-item>
                        </el-col>
                    </el-row>
                    
                    <el-form-item label="Êé•Âè£Âú∞ÂùÄ" prop="url">
                        <el-input v-model="apiForm.url" placeholder="ËØ∑ËæìÂÖ•Êé•Âè£Âú∞ÂùÄÔºåÂ¶ÇÔºö/api/v1/users" />
                    </el-form-item>
                    
                    <el-row :gutter="20">
                        <el-col :span="12">
                            <el-form-item label="ÊâÄÂ±ûÂàÜÁ±ª">
                                <el-select v-model="apiForm.category_id" placeholder="ÈÄâÊã©ÂàÜÁ±ª" clearable>
                                    <el-option
                                        v-for="category in categories"
                                        :key="category.id"
                                        :label="category.name"
                                        :value="category.id"
                                    >
                                        <span :style="{ color: category.color }">‚óè </span>
                                        {{ category.name }}
                                    </el-option>
                                </el-select>
                            </el-form-item>
                        </el-col>
                    </el-row>
                    
                    <el-form-item label="Êé•Âè£ÊèèËø∞">
                        <el-input
                            v-model="apiForm.description"
                            type="textarea"
                            placeholder="ËØ∑ËæìÂÖ•Êé•Âè£ÊèèËø∞"
                            :rows="3"
                        />
                    </el-form-item>
                </el-form>
                
                <template #footer>
                    <el-button @click="apiDialogVisible = false">ÂèñÊ∂à</el-button>
                    <el-button type="primary" @click="handleSaveAPI" :loading="apiLoading">
                        Á°ÆÂÆö
                    </el-button>
                </template>
            </el-dialog>
        </div>
    </div>

    <!-- Vue 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- Element Plus -->
    <script src="https://unpkg.com/element-plus/dist/index.full.js"></script>

    <script>
        const { createApp, ref, reactive, onMounted, computed } = Vue;
        const { ElMessage, ElMessageBox } = ElementPlus;

        const app = createApp({
            setup() {
                // ÂìçÂ∫îÂºèÊï∞ÊçÆ
                const loading = ref(false);
                const categoryLoading = ref(false);
                const apiLoading = ref(false);
                const isConnected = ref(true);

                // ÊêúÁ¥¢Áõ∏ÂÖ≥
                const searchKeyword = ref('');
                const selectedCategoryId = ref(undefined);

                // Êï∞ÊçÆÂàóË°®
                const categories = ref([]);
                const apis = ref([]);

                // ÂàÜÁ±ªÂØπËØùÊ°Ü
                const categoryDialogVisible = ref(false);
                const categoryForm = reactive({
                    id: undefined,
                    name: '',
                    description: '',
                    color: '#00d4ff',
                    module_id: 1
                });

                const categoryRules = {
                    name: [
                        { required: true, message: 'ËØ∑ËæìÂÖ•ÂàÜÁ±ªÂêçÁß∞', trigger: 'blur' },
                        { min: 1, max: 100, message: 'ÂàÜÁ±ªÂêçÁß∞ÈïøÂ∫¶Âú® 1 Âà∞ 100 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }
                    ]
                };

                // Êé•Âè£ÂØπËØùÊ°Ü
                const apiDialogVisible = ref(false);
                const apiForm = reactive({
                    id: undefined,
                    name: '',
                    method: 'GET',
                    url: '',
                    description: '',
                    category_id: undefined
                });

                const apiRules = {
                    name: [
                        { required: true, message: 'ËØ∑ËæìÂÖ•Êé•Âè£ÂêçÁß∞', trigger: 'blur' },
                        { min: 1, max: 200, message: 'Êé•Âè£ÂêçÁß∞ÈïøÂ∫¶Âú® 1 Âà∞ 200 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }
                    ],
                    method: [
                        { required: true, message: 'ËØ∑ÈÄâÊã©ËØ∑Ê±ÇÊñπÊ≥ï', trigger: 'change' }
                    ],
                    url: [
                        { required: true, message: 'ËØ∑ËæìÂÖ•Êé•Âè£Âú∞ÂùÄ', trigger: 'blur' },
                        { min: 1, max: 500, message: 'Êé•Âè£Âú∞ÂùÄÈïøÂ∫¶Âú® 1 Âà∞ 500 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }
                    ]
                };

                // API Ë∞ÉÁî®ÂáΩÊï∞
                const makeRequest = async (url, options = {}) => {
                    try {
                        const response = await fetch('http://localhost:8000' + url, {
                            headers: {
                                'Content-Type': 'application/json',
                                ...options.headers
                            },
                            ...options
                        });
                        
                        if (!response.ok) {
                            const errorData = await response.json().catch(() => ({}));
                            throw new Error(errorData.detail || `HTTP ${response.status}`);
                        }
                        
                        const data = await response.json();
                        isConnected.value = true;
                        return data;
                    } catch (error) {
                        if (error.message.includes('fetch')) {
                            isConnected.value = false;
                            throw new Error('Êó†Ê≥ïËøûÊé•Âà∞ÂêéÁ´ØÊúçÂä°ÔºåËØ∑Á°Æ‰øùÊúçÂä°Â∑≤ÂêØÂä®');
                        }
                        throw error;
                    }
                };

                // Âä†ËΩΩÂàÜÁ±ª
                const loadCategories = async () => {
                    try {
                        const data = await makeRequest('/api/v1/apis/categories/?module_id=1');
                        categories.value = data || [];
                    } catch (error) {
                        console.error('Âä†ËΩΩÂàÜÁ±ªÂ§±Ë¥•:', error);
                        ElMessage.error('Âä†ËΩΩÂàÜÁ±ªÂ§±Ë¥•: ' + error.message);
                    }
                };

                // Âä†ËΩΩÊé•Âè£
                const loadAPIs = async () => {
                    loading.value = true;
                    try {
                        let url = '/api/v1/apis/?';
                        const params = new URLSearchParams();
                        
                        if (selectedCategoryId.value) {
                            params.append('category_id', selectedCategoryId.value.toString());
                        }
                        if (searchKeyword.value) {
                            params.append('keyword', searchKeyword.value);
                        }
                        
                        url += params.toString();
                        const data = await makeRequest(url);
                        apis.value = data || [];
                    } catch (error) {
                        console.error('Âä†ËΩΩÊé•Âè£Â§±Ë¥•:', error);
                        ElMessage.error('Âä†ËΩΩÊé•Âè£Â§±Ë¥•: ' + error.message);
                    } finally {
                        loading.value = false;
                    }
                };

                // ËÆ°ÁÆóÂàÜÁ±ª‰∏ãÁöÑÊé•Âè£Êï∞Èáè
                const getAPICountByCategory = (categoryId) => {
                    return apis.value.filter(api => api.category_id === categoryId).length;
                };

                // ÊêúÁ¥¢ÂíåÁ≠õÈÄâ
                const handleSearch = () => {
                    loadAPIs();
                };

                const handleReset = () => {
                    searchKeyword.value = '';
                    selectedCategoryId.value = undefined;
                    loadAPIs();
                };

                // ÂàÜÁ±ªÁÆ°ÁêÜ
                const showCreateCategoryDialog = () => {
                    resetCategoryForm();
                    categoryDialogVisible.value = true;
                };

                const resetCategoryForm = () => {
                    categoryForm.id = undefined;
                    categoryForm.name = '';
                    categoryForm.description = '';
                    categoryForm.color = '#00d4ff';
                };

                const handleSaveCategory = async () => {
                    categoryLoading.value = true;
                    try {
                        const data = {
                            name: categoryForm.name,
                            description: categoryForm.description,
                            color: categoryForm.color,
                            module_id: categoryForm.module_id
                        };

                        if (categoryForm.id) {
                            await makeRequest(`/api/v1/apis/categories/${categoryForm.id}`, {
                                method: 'PUT',
                                body: JSON.stringify(data)
                            });
                            ElMessage.success('ÂàÜÁ±ªÊõ¥Êñ∞ÊàêÂäü');
                        } else {
                            await makeRequest('/api/v1/apis/categories/', {
                                method: 'POST',
                                body: JSON.stringify(data)
                            });
                            ElMessage.success('ÂàÜÁ±ªÂàõÂª∫ÊàêÂäü');
                        }

                        categoryDialogVisible.value = false;
                        await loadCategories();
                        await loadAPIs(); // ÈáçÊñ∞Âä†ËΩΩÊé•Âè£‰ª•Êõ¥Êñ∞ÂÖ≥ËÅî‰ø°ÊÅØ
                    } catch (error) {
                        ElMessage.error('‰øùÂ≠òÂàÜÁ±ªÂ§±Ë¥•: ' + error.message);
                    } finally {
                        categoryLoading.value = false;
                    }
                };

                const handleDeleteCategory = async (id) => {
                    try {
                        await ElMessageBox.confirm('Á°ÆËÆ§Âà†Èô§Ê≠§ÂàÜÁ±ªÂêóÔºüÂà†Èô§ÂêéÂàÜÁ±ª‰∏ãÁöÑÊé•Âè£Â∞ÜÂèò‰∏∫Êú™ÂàÜÁ±ªÁä∂ÊÄÅ„ÄÇ', 'Ë≠¶Âëä', {
                            confirmButtonText: 'Á°ÆËÆ§',
                            cancelButtonText: 'ÂèñÊ∂à',
                            type: 'warning'
                        });

                        await makeRequest(`/api/v1/apis/categories/${id}`, {
                            method: 'DELETE'
                        });
                        ElMessage.success('ÂàÜÁ±ªÂà†Èô§ÊàêÂäü');
                        await loadCategories();
                        await loadAPIs();
                    } catch (error) {
                        if (error !== 'cancel') {
                            ElMessage.error('Âà†Èô§ÂàÜÁ±ªÂ§±Ë¥•: ' + error.message);
                        }
                    }
                };

                const handleCategoryClick = (category) => {
                    selectedCategoryId.value = category.id;
                    handleSearch();
                };

                // Êé•Âè£ÁÆ°ÁêÜ
                const showCreateAPIDialog = () => {
                    resetAPIForm();
                    apiDialogVisible.value = true;
                };

                const resetAPIForm = () => {
                    apiForm.id = undefined;
                    apiForm.name = '';
                    apiForm.method = 'GET';
                    apiForm.url = '';
                    apiForm.description = '';
                    apiForm.category_id = undefined;
                };

                const handleSaveAPI = async () => {
                    apiLoading.value = true;
                    try {
                        const data = {
                            name: apiForm.name,
                            method: apiForm.method,
                            url: apiForm.url,
                            description: apiForm.description,
                            category_id: apiForm.category_id || null
                        };

                        if (apiForm.id) {
                            await makeRequest(`/api/v1/apis/${apiForm.id}`, {
                                method: 'PUT',
                                body: JSON.stringify(data)
                            });
                            ElMessage.success('Êé•Âè£Êõ¥Êñ∞ÊàêÂäü');
                        } else {
                            await makeRequest('/api/v1/apis/', {
                                method: 'POST',
                                body: JSON.stringify(data)
                            });
                            ElMessage.success('Êé•Âè£ÂàõÂª∫ÊàêÂäü');
                        }

                        apiDialogVisible.value = false;
                        await loadAPIs();
                    } catch (error) {
                        ElMessage.error('‰øùÂ≠òÊé•Âè£Â§±Ë¥•: ' + error.message);
                    } finally {
                        apiLoading.value = false;
                    }
                };

                const handleEditAPI = (api) => {
                    apiForm.id = api.id;
                    apiForm.name = api.name;
                    apiForm.method = api.method;
                    apiForm.url = api.url;
                    apiForm.description = api.description || '';
                    apiForm.category_id = api.category_id;
                    apiDialogVisible.value = true;
                };

                const handleViewAPI = (api) => {
                    ElMessage.info(`Êü•ÁúãÊé•Âè£: ${api.name} (${api.method} ${api.url})`);
                };

                const handleTestAPI = (api) => {
                    ElMessage.info(`ÊµãËØïÊé•Âè£: ${api.name} - ÂäüËÉΩÂºÄÂèë‰∏≠`);
                };

                const handleDeleteAPI = async (id) => {
                    try {
                        await ElMessageBox.confirm('Á°ÆËÆ§Âà†Èô§Ê≠§Êé•Âè£ÂêóÔºü', 'Ë≠¶Âëä', {
                            confirmButtonText: 'Á°ÆËÆ§',
                            cancelButtonText: 'ÂèñÊ∂à',
                            type: 'warning'
                        });

                        await makeRequest(`/api/v1/apis/${id}`, {
                            method: 'DELETE'
                        });
                        ElMessage.success('Êé•Âè£Âà†Èô§ÊàêÂäü');
                        await loadAPIs();
                    } catch (error) {
                        if (error !== 'cancel') {
                            ElMessage.error('Âà†Èô§Êé•Âè£Â§±Ë¥•: ' + error.message);
                        }
                    }
                };

                // Â∑•ÂÖ∑ÊñπÊ≥ï
                const getMethodType = (method) => {
                    const types = {
                        GET: 'success',
                        POST: 'primary', 
                        PUT: 'warning',
                        DELETE: 'danger',
                        PATCH: 'info'
                    };
                    return types[method.toUpperCase()] || 'info';
                };

                const formatDateTime = (dateTime) => {
                    if (!dateTime) return '-';
                    return new Date(dateTime).toLocaleString('zh-CN');
                };

                // ÁîüÂëΩÂë®Êúü
                onMounted(async () => {
                    console.log('È°µÈù¢Âä†ËΩΩÔºåÂºÄÂßãËé∑ÂèñÊï∞ÊçÆ...');
                    await loadCategories();
                    await loadAPIs();
                });

                return {
                    loading,
                    categoryLoading,
                    apiLoading,
                    isConnected,
                    searchKeyword,
                    selectedCategoryId,
                    categories,
                    apis,
                    categoryDialogVisible,
                    categoryForm,
                    categoryRules,
                    apiDialogVisible,
                    apiForm,
                    apiRules,
                    getAPICountByCategory,
                    handleSearch,
                    handleReset,
                    showCreateCategoryDialog,
                    handleSaveCategory,
                    handleDeleteCategory,
                    handleCategoryClick,
                    showCreateAPIDialog,
                    handleSaveAPI,
                    handleEditAPI,
                    handleViewAPI,
                    handleTestAPI,
                    handleDeleteAPI,
                    getMethodType,
                    formatDateTime
                };
            }
        });

        app.use(ElementPlus);
        app.mount('#app');
    </script>
</body>
</html> 